/* client/src/components/styles/Blog.css */

/* --- Main Container & Overall Layout --- */
.blog-deck-container {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-direction: column;
  gap: 1.5rem;
  padding: 1rem 0;
  box-sizing: border-box;
  font-family: var(--font-family-poetic), var(--font-family-fallback);
  color: var(--text-color-poetic);
}

.blog-deck-title {
  font-size: clamp(2.2em, 5vw, 3.2em);
  font-weight: 400;
  text-align: center;
  text-shadow:
    0 0 35px rgba(var(--highlight-color-poetic-rgb), 0.45),
    0 0 18px rgba(var(--highlight-color-poetic-rgb), 0.25),
    0 0 10px rgba(var(--primary-color-rgb), 0.15),
    0 3px 6px rgba(var(--background-color-rgb), 0.3);
  letter-spacing: 0.08em;
  line-height: 1.4;
  margin: 0;
  padding: 0 1rem;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  -webkit-background-clip: text;
  background-image: linear-gradient(
    115deg,
    var(--highlight-color-poetic) 15%,
    var(--secondary-color) 35%,
    var(--primary-color) 55%,
    var(--highlight-color-poetic) 75%
  );
  background-size: 350% 100%;
  animation: titleShimmerFlowPoetic 12s ease-in-out infinite alternate;
}

@keyframes titleShimmerFlowPoetic {
  0% { background-position: 175% center; }
  100% { background-position: -175% center; }
}

.blog-deck-stage {
    flex-grow: 1;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: grab;
    position: relative; /* Cho phép deck định vị absolute */
}

.blog-deck-stage:active {
  cursor: grabbing;
}


/* --- Card Stack Styling --- */
.blog-card-deck {
  position: absolute;
  width: 90vw;
  height: 70vh;
  max-width: 360px;
  max-height: 540px;
  will-change: transform;
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: none;
}

.blog-card-deck > div {
  background-color: rgba(var(--card-background-rgb), 0.7);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border: 1.5px solid rgba(var(--border-color-rgb), 0.3);
  box-shadow: 0 10px 35px -12px rgba(var(--background-color-rgb), 0.6),
              0 0 20px -5px rgba(var(--glow-color-rgb), 0.2);

  width: 100%;
  height: 100%;
  will-change: transform;
  border-radius: 24px;
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
  overflow: hidden; /* Che nội dung tràn */

  /* Bố trí nội dung trong thẻ */
  display: flex;
  flex-direction: column;
}

/* --- Card Inner Content --- */
.blog-card-content {
    display: flex;
    flex-direction: column;
    padding: 1.2rem 1.4rem;
    color: var(--text-color-poetic);
    width: 100%;
    height: 100%;
    box-sizing: border-box;
}

.blog-card-image {
    width: 100%;
    aspect-ratio: 16 / 10;
    object-fit: cover;
    border-radius: 12px;
    flex-shrink: 0;
    margin-bottom: 1rem;
    border: 1px solid rgba(var(--border-color-rgb), 0.1);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.blog-card-text-content {
    flex-grow: 1;
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
}

.blog-card-title {
    font-size: 1.3em;
    font-weight: 500;
    color: var(--highlight-color-poetic);
    line-height: 1.4;
    margin: 0 0 0.5rem 0;
    text-shadow: 0 1px 2px rgba(var(--background-color-rgb),0.5);
    /* Giới hạn 2 dòng */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.blog-card-snippet {
    font-size: 0.9em;
    font-weight: 300;
    line-height: 1.7;
    color: var(--subtext-color-poetic);
    margin: 0;
    flex-grow: 1;
}

/* Hiệu ứng mờ dần cho snippet nếu quá dài */
.blog-card-text-content.has-overflow::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2em;
    background: linear-gradient(to bottom, transparent, rgba(var(--card-background-rgb), 1) 90%);
    pointer-events: none;
}

/* --- Lightbox Styles (Giữ nguyên phần lớn) --- */
/* (Các style của lightbox có thể được giữ lại và điều chỉnh nếu cần.
Để đơn giản hóa, ta giả định lightbox đã có style tốt và chỉ tập trung vào deck) */
/* Ví dụ: đảm bảo z-index cao cho lightbox */
.blog-lightbox-overlay {
  z-index: 2000;
}


/* --- Status & Back Button --- */
.blog-status-message {
  text-align: center; font-style: italic; color: var(--subtext-color-poetic);
  padding: 5rem 2rem; font-size: 1.4em;
  width: 100%; min-height: 280px; display: flex;
  flex-direction: column; align-items: center; justify-content: center;
}
.blog-status-message.error { color: var(--error-color); font-weight: 400; }

.blog-back-button-deck {
  /* Dùng lại style từ .card-view-back-button nếu có hoặc định nghĩa mới */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  background-color: rgba(var(--card-background-rgb), 0.45);
  border: 1.5px solid rgba(var(--border-color-rgb), 0.25);
  color: var(--text-color-poetic);
  font-family: inherit;
  font-size: 1.05em;
  font-weight: 400;
  padding: 0.7rem 1.6rem;
  border-radius: 30px;
  cursor: pointer;
  box-shadow: 0 3px 10px rgba(0,0,0,0.15);
  transition: all 0.25s ease;
}
.blog-back-button-deck svg {
  stroke-width: 2.5;
  width: 22px;
  height: 22px;
}